<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Register</title>
   <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div class="nav">
        <div class="container">
            <a th:href="@{/home}">Home</a>
            <a th:href="@{/login}">Login</a>
            <a th:href="@{/register}">Register</a>
        </div>
    </div>

<div class="container">

<h2>Register - Support Ticket System</h2>
<form th:action="@{/register}" method="post" class="form">
            <div class="form-group">
                <label for="username" class="form-label">Username:</label>
                <input type="text" id="username" name="username" class="form-input" required>
            </div>
   			 <div class="form-group">
                <label for="password" class="form-label">Password:</label>
                <input type="password" id="password" name="password" class="form-input" required>
            </div>
            <div class="form-group">
			    <label for="role" class="form-label">Role:</label>
			    <select name="role" id="role" onchange="toggleExpertise()">
			        <option value="CUSTOMER">Customer</option>
			        <option value="AGENT">Agent</option>
			        <option value="ADMIN">Admin</option>
			    </select>
   			 </div>
			    <div class="form-group" id="expertiseField" style="display:none;">
			                <label for="expertise" class="form-label">Expertise (comma-separated, e.g., login,payment):</label>
			                <input type="text" id="expertise" name="expertise" class="form-input" >
			            </div>
			   
			    <div class="form-group">
			                <button type="submit" class="form-button">Register</button>
			            </div>
			        </form>
			        <p class="form-link"><a th:href="@{/login}">Already have an account? Login</a></p>
			        <div th:if="${error}" class="error-message">
			            <p th:text="${error}"></p>
			        </div>

			<script>
			    function toggleExpertise() {
			        var role = document.getElementById('role').value;
			        document.getElementById('expertiseField').style.display = role === 'AGENT' ? 'block' : 'none';
			    }
			</script>
		</div>
</body>
</html>


           